import{_ as i,C as s,c as n,o as e,a8 as l,b as d,j as E,w as t,a,G as B,a9 as o}from"./chunks/framework.DW4T_yAZ.js";const F=JSON.parse('{"title":"用户管理","description":"","frontmatter":{},"headers":[],"relativePath":"projects/LitePan/5-administration/5.2-user-management.md","filePath":"projects/LitePan/5-administration/5.2-user-management.md","lastUpdated":1749448992000}'),D={name:"projects/LitePan/5-administration/5.2-user-management.md"};function u(h,A,m,p,c,b){const r=s("Mermaid");return e(),n("div",null,[A[5]||(A[5]=l('<h1 id="用户管理" tabindex="-1">用户管理 <a class="header-anchor" href="#用户管理" aria-label="Permalink to &quot;用户管理&quot;">​</a></h1><blockquote><p><strong>相关源文件</strong></p><ul><li><a href="https://github.com/xueldx/%E4%BC%98%E4%BA%AB%E4%BA%91%E7%9B%98-front/blob/3ffecfa5/src/views/admin/UserList.vue" target="_blank" rel="noreferrer">src/views/admin/UserList.vue</a></li><li><a href="https://github.com/xueldx/%E4%BC%98%E4%BA%AB%E4%BA%91%E7%9B%98-front/blob/3ffecfa5/src/views/recycle/Recycle.vue" target="_blank" rel="noreferrer">src/views/recycle/Recycle.vue</a></li></ul></blockquote><h2 id="目的和范围" tabindex="-1">目的和范围 <a class="header-anchor" href="#目的和范围" aria-label="Permalink to &quot;目的和范围&quot;">​</a></h2><p>本节涵盖了 优享云盘 中的管理员用户管理系统，该系统为管理员提供了全面的工具，用于管理用户账户、监控使用情况和控制访问权限。用户管理系统使管理员能够查看用户信息、分配存储空间、启用或禁用账户，以及搜索用户数据。</p><h2 id="用户管理界面" tabindex="-1">用户管理界面 <a class="header-anchor" href="#用户管理界面" aria-label="Permalink to &quot;用户管理界面&quot;">​</a></h2><p>用户管理界面在 <code>UserList.vue</code> 中实现，为管理员提供了一个全面的仪表盘，用于管理系统中的所有用户账户。</p><h3 id="组件结构" tabindex="-1">组件结构 <a class="header-anchor" href="#组件结构" aria-label="Permalink to &quot;组件结构&quot;">​</a></h3>',7)),(e(),d(o,null,{default:t(()=>[B(r,{id:"mermaid-35",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22%E6%90%9C%E7%B4%A2%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%22%5D%0AB%5B%22%E6%90%9C%E7%B4%A2%E8%A1%A8%E5%8D%95%22%5D%0AC%5B%22%E6%98%B5%E7%A7%B0%E6%A8%A1%E7%B3%8A%E8%BE%93%E5%85%A5%22%5D%0AD%5B%22%E7%8A%B6%E6%80%81%E9%80%89%E6%8B%A9%22%5D%0AE%5B%22%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE%22%5D%0AF%5B%22%E7%94%A8%E6%88%B7%E8%A1%A8%E6%A0%BC%22%5D%0AG%5B%22%E5%A4%B4%E5%83%8F%E5%88%97%22%5D%0AH%5B%22%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%88%97%22%5D%0AI%5B%22%E6%93%8D%E4%BD%9C%E5%88%97%22%5D%0AJ%5B%22%E5%AF%B9%E8%AF%9D%E6%A1%86%E9%85%8D%E7%BD%AE%22%5D%0AK%5B%22%E7%A9%BA%E9%97%B4%E5%88%86%E9%85%8D%E5%AF%B9%E8%AF%9D%E6%A1%86%22%5D%0AL%5B%22%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%22%5D%0AM%5B%22%E5%8A%A0%E8%BD%BD%E7%94%A8%E6%88%B7%20API%22%5D%0AN%5B%22%E6%9B%B4%E6%96%B0%E7%8A%B6%E6%80%81%20API%22%5D%0AO%5B%22%E6%9B%B4%E6%96%B0%E7%A9%BA%E9%97%B4%20API%22%5D%0Asubgraph%20UserListvue%20%5B%22UserList.vue%22%5D%0A%20%20%20%20A%0A%20%20%20%20B%0A%20%20%20%20C%0A%20%20%20%20D%0A%20%20%20%20E%0A%20%20%20%20F%0A%20%20%20%20G%0A%20%20%20%20H%0A%20%20%20%20I%0A%20%20%20%20J%0A%20%20%20%20K%0A%20%20%20%20L%0A%20%20%20%20M%0A%20%20%20%20N%0A%20%20%20%20O%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20B%20--%3E%20D%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20F%20--%3E%20H%0A%20%20%20%20F%20--%3E%20I%0A%20%20%20%20J%20--%3E%20K%0A%20%20%20%20K%20--%3E%20L%0A%20%20%20%20M%20--%3E%20E%0A%20%20%20%20N%20--%3E%20M%0A%20%20%20%20O%20--%3E%20M%0A%20%20%20%20B%20--%3E%20M%0A%20%20%20%20I%20--%3E%20N%0A%20%20%20%20I%20--%3E%20O%0A%20%20%20%20K%20--%3E%20O%0Aend%0A"})]),fallback:t(()=>A[0]||(A[0]=[a(" Loading... ")])),_:1})),A[6]||(A[6]=l('<h3 id="用户数据展示" tabindex="-1">用户数据展示 <a class="header-anchor" href="#用户数据展示" aria-label="Permalink to &quot;用户数据展示&quot;">​</a></h3><p>用户管理表格通过结构化的列布局展示全面的用户信息：</p><table tabindex="0"><thead><tr><th>列名</th><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>头像</td><td><code>avatar</code></td><td>用户个人资料图片或 QQ 头像</td></tr><tr><td>昵称</td><td><code>nickName</code></td><td>用户显示名称</td></tr><tr><td>邮箱</td><td><code>email</code></td><td>用户邮箱地址</td></tr><tr><td>空间使用情况</td><td><code>space</code></td><td>当前/总存储分配情况，使用 <code>Utils.size2Str</code> 工具函数以可视化方式展示已使用空间与总分配空间的比例</td></tr><tr><td>加入时间</td><td><code>joinTime</code></td><td>账户创建日期</td></tr><tr><td>最后登录时间</td><td><code>lastLoginTime</code></td><td>最近登录时间戳</td></tr><tr><td>状态</td><td><code>status</code></td><td>账户启用/禁用状态</td></tr><tr><td>操作</td><td><code>op</code></td><td>管理操作按钮</td></tr></tbody></table><h2 id="管理操作" tabindex="-1">管理操作 <a class="header-anchor" href="#管理操作" aria-label="Permalink to &quot;管理操作&quot;">​</a></h2><h3 id="用户状态管理" tabindex="-1">用户状态管理 <a class="header-anchor" href="#用户状态管理" aria-label="Permalink to &quot;用户状态管理&quot;">​</a></h3><p>管理员可以通过状态管理系统启用或禁用用户账户。<code>updateUserStatus</code> 函数处理状态转换：</p>',6)),(e(),d(o,null,{default:t(()=>[B(r,{id:"mermaid-156",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22%E7%8A%B6%E6%80%81%E5%88%87%E6%8D%A2%E7%82%B9%E5%87%BB%22%5D%0AB%5B%22%E7%A1%AE%E8%AE%A4%E5%AF%B9%E8%AF%9D%E6%A1%86%22%5D%0AC%5B%22API%20%E8%AF%B7%E6%B1%82%22%5D%0AD%5B%22updateUserStatus%22%5D%0AE%5B%22%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%22%5D%0AF%5B%22%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%22%5D%0AG%5B%22%E7%94%A8%E6%88%B7%E7%8A%B6%E6%80%81%200%22%5D%0AH%5B%22%E7%A6%81%E7%94%A8%E7%8A%B6%E6%80%81%22%5D%0AI%5B%22%E7%94%A8%E6%88%B7%E7%8A%B6%E6%80%81%201%22%5D%0AJ%5B%22%E5%90%AF%E7%94%A8%E7%8A%B6%E6%80%81%22%5D%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20D%20--%3E%20E%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20G%20--%3E%20H%0A%20%20%20%20I%20--%3E%20J%0A"})]),fallback:t(()=>A[1]||(A[1]=[a(" Loading... ")])),_:1})),A[7]||(A[7]=E("p",null,"系统会自动在启用（状态：1）和禁用（状态：0）状态之间切换，并会弹出确认提示框以确保操作安全。",-1)),A[8]||(A[8]=E("h3",{id:"存储空间分配",tabindex:"-1"},[a("存储空间分配 "),E("a",{class:"header-anchor",href:"#存储空间分配","aria-label":'Permalink to "存储空间分配"'},"​")],-1)),A[9]||(A[9]=E("p",null,"空间分配系统允许管理员通过专用对话框界面修改用户存储限制：",-1)),(e(),d(o,null,{default:t(()=>[B(r,{id:"mermaid-166",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22%E5%88%86%E9%85%8D%E7%A9%BA%E9%97%B4%E7%82%B9%E5%87%BB%22%5D%0AB%5B%22%E5%AF%B9%E8%AF%9D%E6%A1%86%E6%89%93%E5%BC%80%22%5D%0AC%5B%22%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E5%A1%AB%E5%85%85%22%5D%0AD%5B%22%E7%A9%BA%E9%97%B4%E8%BE%93%E5%85%A5%E8%A1%A8%E5%8D%95%22%5D%0AE%5B%22%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81%22%5D%0AF%5B%22API%20%E6%8F%90%E4%BA%A4%22%5D%0AG%5B%22updateUserSpace%22%5D%0AH%5B%22%E6%88%90%E5%8A%9F%E9%80%9A%E7%9F%A5%22%5D%0AI%5B%22%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%E5%88%B7%E6%96%B0%22%5D%0AJ%5B%22formData.changeSpace%22%5D%0AK%5B%22%E4%BB%A5%20MB%20%E4%B8%BA%E5%8D%95%E4%BD%8D%E7%9A%84%E7%A9%BA%E9%97%B4%E5%80%BC%22%5D%0AL%5B%22formData.nickName%22%5D%0AM%5B%22%E4%BB%85%E6%98%BE%E7%A4%BA%22%5D%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20D%20--%3E%20E%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20G%20--%3E%20H%0A%20%20%20%20H%20--%3E%20I%0A%20%20%20%20J%20--%3E%20K%0A%20%20%20%20L%20--%3E%20M%0A"})]),fallback:t(()=>A[2]||(A[2]=[a(" Loading... ")])),_:1})),A[10]||(A[10]=l('<p>空间分配对话框包含表单验证规则，并显示当前用户的昵称以供参考，同时允许修改以兆字节为单位的 <code>changeSpace</code> 字段。</p><h2 id="搜索和过滤系统" tabindex="-1">搜索和过滤系统 <a class="header-anchor" href="#搜索和过滤系统" aria-label="Permalink to &quot;搜索和过滤系统&quot;">​</a></h2><p>用户管理界面通过基于表单的查询系统提供搜索和过滤功能：</p><h3 id="搜索参数" tabindex="-1">搜索参数 <a class="header-anchor" href="#搜索参数" aria-label="Permalink to &quot;搜索参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>属性</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>昵称</td><td><code>nickNameFuzzy</code></td><td>字符串</td><td>对用户昵称进行模糊搜索</td></tr><tr><td>状态</td><td><code>status</code></td><td>整数</td><td>按启用（1）或禁用（0）状态进行过滤</td></tr></tbody></table><h3 id="搜索实现" tabindex="-1">搜索实现 <a class="header-anchor" href="#搜索实现" aria-label="Permalink to &quot;搜索实现&quot;">​</a></h3>',6)),(e(),d(o,null,{default:t(()=>[B(r,{id:"mermaid-230",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22%E6%90%9C%E7%B4%A2%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%22%5D%0AB%5B%22%E6%98%B5%E7%A7%B0%E6%A8%A1%E7%B3%8A%E6%90%9C%E7%B4%A2%22%5D%0AC%5B%22%E7%8A%B6%E6%80%81%22%5D%0AD%5B%22%E6%90%9C%E7%B4%A2%E8%A1%A8%E5%8D%95%22%5D%0AE%5B%22loadDataList()%22%5D%0AF%5B%22API%20%E5%8F%82%E6%95%B0%22%5D%0AG%5B%22Object.assign()%22%5D%0AH%5B%22%E5%90%8E%E7%AB%AF%E8%AF%B7%E6%B1%82%22%5D%0AI%5B%22%E5%9B%9E%E8%BD%A6%E9%94%AE%22%5D%0AJ%5B%22%E6%90%9C%E7%B4%A2%E6%8C%89%E9%92%AE%22%5D%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20A%20--%3E%20C%0A%20%20%20%20D%20--%3E%20E%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20G%20--%3E%20H%0A%20%20%20%20I%20--%3E%20E%0A%20%20%20%20J%20--%3E%20E%0A"})]),fallback:t(()=>A[3]||(A[3]=[a(" Loading... ")])),_:1})),A[11]||(A[11]=E("p",null,[a("搜索功能将表单数据与分页参数相结合，并通过 "),E("code",null,"loadDataList"),a(" 函数将其发送到后端，支持手动点击搜索按钮和按回车键提交。")],-1)),A[12]||(A[12]=E("h2",{id:"api-集成",tabindex:"-1"},[a("API 集成 "),E("a",{class:"header-anchor",href:"#api-集成","aria-label":'Permalink to "API 集成"'},"​")],-1)),A[13]||(A[13]=E("p",null,"用户管理系统与三个主要的后端端点集成：",-1)),A[14]||(A[14]=E("h3",{id:"api-端点",tabindex:"-1"},[a("API 端点 "),E("a",{class:"header-anchor",href:"#api-端点","aria-label":'Permalink to "API 端点"'},"​")],-1)),(e(),d(o,null,{default:t(()=>[B(r,{id:"mermaid-243",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22%2Fadmin%2FloadUserList%22%5D%0AB%5B%22%E5%8A%A0%E8%BD%BD%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%22%5D%0AC%5B%22%2Fadmin%2FupdateUserStatus%22%5D%0AD%5B%22%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7%E7%8A%B6%E6%80%81%22%5D%0AE%5B%22%2Fadmin%2FupdateUserSpace%22%5D%0AF%5B%22%E4%BF%AE%E6%94%B9%E5%AD%98%E5%82%A8%E9%85%8D%E9%A2%9D%22%5D%0AG%5B%22loadDataList()%22%5D%0AH%5B%22updateUserStatus()%22%5D%0AI%5B%22submitForm()%22%5D%0AJ%5B%22pageNo%2C%20pageSize%22%5D%0AK%5B%22searchFormData%22%5D%0AL%5B%22userId%2C%20status%22%5D%0AM%5B%22userId%2C%20changeSpace%22%5D%0A%0A%20%20%20%20G%20--%3E%20A%0A%20%20%20%20H%20--%3E%20C%0A%20%20%20%20I%20--%3E%20E%0A%20%20%20%20J%20--%3E%20A%0A%20%20%20%20K%20--%3E%20A%0A%20%20%20%20L%20--%3E%20C%0A%20%20%20%20M%20--%3E%20E%0Asubgraph%20Parameters%20%5B%22%E5%8F%82%E6%95%B0%22%5D%0A%20%20%20%20J%0A%20%20%20%20K%0A%20%20%20%20L%0A%20%20%20%20M%0A%20%20%20%20J%20--%3E%20K%0Aend%0A%0Asubgraph%20Frontend_Functions%20%5B%22%E5%89%8D%E7%AB%AF%E5%87%BD%E6%95%B0%22%5D%0A%20%20%20%20G%0A%20%20%20%20H%0A%20%20%20%20I%0Aend%0A%0Asubgraph%20User_Management_APIs%20%5B%22%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%20API%22%5D%0A%20%20%20%20A%0A%20%20%20%20B%0A%20%20%20%20C%0A%20%20%20%20D%0A%20%20%20%20E%0A%20%20%20%20F%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20E%20--%3E%20F%0Aend%0A"})]),fallback:t(()=>A[4]||(A[4]=[a(" Loading... ")])),_:1})),A[15]||(A[15]=l('<h3 id="请求流程" tabindex="-1">请求流程 <a class="header-anchor" href="#请求流程" aria-label="Permalink to &quot;请求流程&quot;">​</a></h3><p>API 集成使用集中式 <code>proxy.Request</code> 系统遵循一致的模式：</p><ol><li><strong>加载用户</strong>：将分页参数与搜索条件相结合</li><li><strong>更新状态</strong>：发送用户 ID 和新的状态值</li><li><strong>更新空间</strong>：提交用户 ID 和新的空间分配</li></ol><p>每个 API 调用都包含错误处理，并在成功完成后触发适当的 UI 更新，包括数据刷新和用户通知消息。</p><h2 id="组件依赖" tabindex="-1">组件依赖 <a class="header-anchor" href="#组件依赖" aria-label="Permalink to &quot;组件依赖&quot;">​</a></h2><p>用户管理系统依赖于几个共享组件和实用工具：</p><ul><li><strong>表格组件</strong>：提供分页、列配置和数据显示功能</li><li><strong>对话框组件</strong>：处理空间分配的模态交互</li><li><strong>头像组件</strong>：显示用户个人资料图片，并提供备用支持</li><li><strong>Utils.size2Str</strong>：将字节值格式化为人类可读的存储大小</li><li><strong>请求系统</strong>：用于 API 通信的集中式 HTTP 客户端</li></ul>',7))])}const g=i(D,[["render",u]]);export{F as __pageData,g as default};
