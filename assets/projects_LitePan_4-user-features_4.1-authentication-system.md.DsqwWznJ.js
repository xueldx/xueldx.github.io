import{_ as o,C as l,c as d,o as e,a8 as r,b as n,j as a,w as A,a as i,G as s,a9 as B}from"./chunks/framework.DW4T_yAZ.js";const c=JSON.parse('{"title":"认证系统","description":"","frontmatter":{},"headers":[],"relativePath":"projects/LitePan/4-user-features/4.1-authentication-system.md","filePath":"projects/LitePan/4-user-features/4.1-authentication-system.md","lastUpdated":1749448992000}'),h={name:"projects/LitePan/4-user-features/4.1-authentication-system.md"};function p(F,E,u,D,g,k){const t=l("Mermaid");return e(),d("div",null,[E[7]||(E[7]=r('<h1 id="认证系统" tabindex="-1">认证系统 <a class="header-anchor" href="#认证系统" aria-label="Permalink to &quot;认证系统&quot;">​</a></h1><blockquote><p><strong>相关源文件</strong></p><ul><li><a href="https://github.com/xueldx/%E4%BC%98%E4%BA%AB%E4%BA%91%E7%9B%98-front/blob/3ffecfa5/src/views/Login.vue" target="_blank" rel="noreferrer">src/views/Login.vue</a></li></ul></blockquote><p>本节涵盖了 优享云盘 中认证系统的实现，包括用户登录、注册、密码重置和第三方认证。该系统通过电子邮件验证和验证码保护，提供安全的用户访问控制。</p><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>认证系统实现为一个单页组件，通过统一接口处理多个认证工作流。该系统支持传统的电子邮件/密码认证、密码找回、带电子邮件验证的用户注册以及 QQ OAuth 集成。</p>',5)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-24",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22Login.vue%22%5D%0AB%5B%22%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%9E%8B%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%99%A8%22%5D%0AC%5B%22%E7%99%BB%E5%BD%95%E6%A8%A1%E5%BC%8F%20(1)%22%5D%0AD%5B%22%E6%B3%A8%E5%86%8C%E6%A8%A1%E5%BC%8F%20(0)%22%5D%0AE%5B%22%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE%E6%A8%A1%E5%BC%8F%20(2)%22%5D%0AF%5B%22%E9%AA%8C%E8%AF%81%E7%A0%81%E9%AA%8C%E8%AF%81%22%5D%0AG%5B%22%2Fapi%2FcheckCode%22%5D%0AH%5B%22%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E9%AA%8C%E8%AF%81%22%5D%0AI%5B%22%2FsendEmailCode%22%5D%0AJ%5B%22%E5%AF%86%E7%A0%81%E5%93%88%E5%B8%8C%22%5D%0AK%5B%22md5%20%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%22%5D%0AL%5B%22%2Flogin%22%5D%0AM%5B%22%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%22%5D%0AN%5B%22%2Fregister%22%5D%0AO%5B%22%E8%B4%A6%E6%88%B7%E5%88%9B%E5%BB%BA%22%5D%0AP%5B%22%2FresetPwd%22%5D%0AQ%5B%22%E5%AF%86%E7%A0%81%E6%89%BE%E5%9B%9E%22%5D%0AR%5B%22%2Fqqlogin%22%5D%0AS%5B%22OAuth%20%E9%9B%86%E6%88%90%22%5D%0A%0A%20%20%20%20A%20--%3E%20F%0A%20%20%20%20A%20--%3E%20H%0A%20%20%20%20A%20--%3E%20J%0A%20%20%20%20A%20--%3E%20L%0A%20%20%20%20A%20--%3E%20N%0A%20%20%20%20A%20--%3E%20P%0A%20%20%20%20A%20--%3E%20R%0Asubgraph%20API_Endpoints%20%5B%22API%20%E7%AB%AF%E7%82%B9%22%5D%0A%20%20%20%20L%0A%20%20%20%20M%0A%20%20%20%20N%0A%20%20%20%20O%0A%20%20%20%20P%0A%20%20%20%20Q%0A%20%20%20%20R%0A%20%20%20%20S%0A%20%20%20%20L%20--%3E%20M%0A%20%20%20%20N%20--%3E%20O%0A%20%20%20%20P%20--%3E%20Q%0A%20%20%20%20R%20--%3E%20S%0Aend%0A%0Asubgraph%20Security_Layer%20%5B%22%E5%AE%89%E5%85%A8%E5%B1%82%22%5D%0A%20%20%20%20F%0A%20%20%20%20G%0A%20%20%20%20H%0A%20%20%20%20I%0A%20%20%20%20J%0A%20%20%20%20K%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20H%20--%3E%20I%0A%20%20%20%20J%20--%3E%20K%0Aend%0A%0Asubgraph%20Authentication_Flow%20%5B%22%E8%AE%A4%E8%AF%81%E6%B5%81%E7%A8%8B%22%5D%0A%20%20%20%20A%0A%20%20%20%20B%0A%20%20%20%20C%0A%20%20%20%20D%0A%20%20%20%20E%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20B%20--%3E%20D%0A%20%20%20%20B%20--%3E%20E%0Aend%0A"})]),fallback:A(()=>E[0]||(E[0]=[i(" Loading... ")])),_:1})),E[8]||(E[8]=a("h2",{id:"组件架构",tabindex:"-1"},[i("组件架构 "),a("a",{class:"header-anchor",href:"#组件架构","aria-label":'Permalink to "组件架构"'},"​")],-1)),E[9]||(E[9]=a("p",null,"认证系统围绕一个具有响应式状态管理和表单验证的单个 Vue 组件构建。",-1)),E[10]||(E[10]=a("h3",{id:"核心组件结构",tabindex:"-1"},[i("核心组件结构 "),a("a",{class:"header-anchor",href:"#核心组件结构","aria-label":'Permalink to "核心组件结构"'},"​")],-1)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-34",class:"mermaid",graph:"flowchart%20TD%0A%0AN%5B%22proxy.Request%22%5D%0AO%5B%22HTTP%20%E9%80%9A%E4%BF%A1%E5%B1%82%22%5D%0AP%5B%22proxy.VueCookies%22%5D%0AQ%5B%22%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%22%5D%0AR%5B%22proxy.Message%22%5D%0AS%5B%22%E7%94%A8%E6%88%B7%E5%8F%8D%E9%A6%88%22%5D%0AA%5B%22%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%22%5D%0AB%5B%22%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E5%AD%97%E6%AE%B5%22%5D%0AC%5B%22%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%9E%8B%22%5D%0AD%5B%22%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2%22%5D%0AE%5B%22%E9%AA%8C%E8%AF%81%E7%A0%81%E5%9B%BE%E7%89%87%20URL%22%5D%0AF%5B%22%E9%AA%8C%E8%AF%81%E7%A0%81%E5%9B%BE%E7%89%87%E6%BA%90%22%5D%0AG%5B%22%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E9%AA%8C%E8%AF%81%E7%A0%81%E5%AF%B9%E8%AF%9D%E6%A1%86%E9%85%8D%E7%BD%AE%22%5D%0AH%5B%22%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E9%AA%8C%E8%AF%81%E5%AF%B9%E8%AF%9D%E6%A1%86%22%5D%0AI%5B%22%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99%22%5D%0AJ%5B%22%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E9%AA%8C%E8%AF%81%22%5D%0AK%5B%22%E5%AF%86%E7%A0%81%E9%AA%8C%E8%AF%81%22%5D%0AL%5B%22%E5%BF%85%E5%A1%AB%E5%AD%97%E6%AE%B5%E9%AA%8C%E8%AF%81%22%5D%0AM%5B%22%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AA%8C%E8%AF%81%E5%99%A8%22%5D%0A%0A%20%20%20%20B%20--%3E%20I%0Asubgraph%20Form_Validation%20%5B%22%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81%22%5D%0A%20%20%20%20I%0A%20%20%20%20J%0A%20%20%20%20K%0A%20%20%20%20L%0A%20%20%20%20M%0A%20%20%20%20I%20--%3E%20J%0A%20%20%20%20I%20--%3E%20K%0A%20%20%20%20I%20--%3E%20L%0A%20%20%20%20I%20--%3E%20M%0Aend%0A%0Asubgraph%20Login_Component_State%20%5B%22%E7%99%BB%E5%BD%95%E7%BB%84%E4%BB%B6%E7%8A%B6%E6%80%81%22%5D%0A%20%20%20%20A%0A%20%20%20%20B%0A%20%20%20%20C%0A%20%20%20%20D%0A%20%20%20%20E%0A%20%20%20%20F%0A%20%20%20%20G%0A%20%20%20%20H%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20G%20--%3E%20H%0A%20%20%20%20D%20--%3E%20B%0A%20%20%20%20F%20--%3E%20A%0A%20%20%20%20H%20--%3E%20A%0Aend%0A%0Asubgraph%20API_Integration%20%5B%22API%20%E9%9B%86%E6%88%90%22%5D%0A%20%20%20%20N%0A%20%20%20%20O%0A%20%20%20%20P%0A%20%20%20%20Q%0A%20%20%20%20R%0A%20%20%20%20S%0A%20%20%20%20N%20--%3E%20O%0A%20%20%20%20P%20--%3E%20Q%0A%20%20%20%20R%20--%3E%20S%0Aend%0A"})]),fallback:A(()=>E[1]||(E[1]=[i(" Loading... ")])),_:1})),E[11]||(E[11]=r('<h3 id="操作模式" tabindex="-1">操作模式 <a class="header-anchor" href="#操作模式" aria-label="Permalink to &quot;操作模式&quot;">​</a></h3><p>系统通过 <code>opType</code> 响应式变量控制三种不同的操作模式：</p><table tabindex="0"><thead><tr><th>模式</th><th>值</th><th>描述</th><th>必填字段</th></tr></thead><tbody><tr><td>注册</td><td>0</td><td>创建新用户账户</td><td>电子邮件、邮件验证码、昵称、注册密码、重复注册密码、验证码</td></tr><tr><td>登录</td><td>1</td><td>用户认证</td><td>电子邮件、密码、验证码、记住我（可选）</td></tr><tr><td>密码重置</td><td>2</td><td>密码找回</td><td>电子邮件、邮件验证码、注册密码、重复注册密码、验证码</td></tr></tbody></table><h2 id="认证工作流" tabindex="-1">认证工作流 <a class="header-anchor" href="#认证工作流" aria-label="Permalink to &quot;认证工作流&quot;">​</a></h2><h3 id="登录流程" tabindex="-1">登录流程 <a class="header-anchor" href="#登录流程" aria-label="Permalink to &quot;登录流程&quot;">​</a></h3><p>登录工作流实现了安全认证，具备可选的“记住我”功能和基于 cookie 的会话持久化。</p>',6)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-112",class:"mermaid",graph:"sequenceDiagram%0A%20%20participant%20%E7%94%A8%E6%88%B7%0A%20%20participant%20Login.vue%0A%20%20participant%20%E8%AE%A4%E8%AF%81%20API%0A%20%20participant%20Cookie%20%E5%AD%98%E5%82%A8%0A%20%20participant%20%E8%B7%AF%E7%94%B1%0A%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%BE%93%E5%85%A5%E5%87%AD%E8%AF%81%0A%20%20Login.vue-%3E%3ELogin.vue%3A%20%E9%AA%8C%E8%AF%81%E8%A1%A8%E5%8D%95%E5%AD%97%E6%AE%B5%0A%20%20Login.vue-%3E%3ELogin.vue%3A%20%E4%BD%BF%E7%94%A8%20md5()%20%E5%AF%B9%E5%AF%86%E7%A0%81%E8%BF%9B%E8%A1%8C%E5%93%88%E5%B8%8C%E5%A4%84%E7%90%86%0A%20%20Login.vue-%3E%3E%E8%AE%A4%E8%AF%81%20API%3A%20POST%20%2Flogin%0A%20%20%E8%AE%A4%E8%AF%81%20API--%3E%3ELogin.vue%3A%20%E8%BF%94%E5%9B%9E%E8%AE%A4%E8%AF%81%E7%BB%93%E6%9E%9C%0A%20%20Login.vue-%3E%3ECookie%20%E5%AD%98%E5%82%A8%3A%20%E8%AE%BE%E7%BD%AE%20userInfo%20cookie%0A%20%20loop%20%5B%E5%90%AF%E7%94%A8%E2%80%9C%E8%AE%B0%E4%BD%8F%E6%88%91%E2%80%9D%5D%0A%20%20%20%20Login.vue-%3E%3ECookie%20%E5%AD%98%E5%82%A8%3A%20%E8%AE%BE%E7%BD%AE%20loginInfo%20cookie%EF%BC%88%E6%9C%89%E6%95%88%E6%9C%9F%207%20%E5%A4%A9%EF%BC%89%0A%20%20%20%20Login.vue-%3E%3ECookie%20%E5%AD%98%E5%82%A8%3A%20%E7%A7%BB%E9%99%A4%20loginInfo%20cookie%0A%20%20end%0A%20%20Login.vue-%3E%3E%E8%B7%AF%E7%94%B1%3A%20%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E5%8E%9F%E9%A1%B5%E9%9D%A2%0A%20%20Login.vue-%3E%3E%E7%94%A8%E6%88%B7%3A%20%E6%98%BE%E7%A4%BA%E6%88%90%E5%8A%9F%E6%B6%88%E6%81%AF%0A"})]),fallback:A(()=>E[2]||(E[2]=[i(" Loading... ")])),_:1})),E[12]||(E[12]=a("h3",{id:"注册流程",tabindex:"-1"},[i("注册流程 "),a("a",{class:"header-anchor",href:"#注册流程","aria-label":'Permalink to "注册流程"'},"​")],-1)),E[13]||(E[13]=a("p",null,"用户注册需要电子邮件验证，并实现了全面的表单验证。",-1)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-119",class:"mermaid",graph:"sequenceDiagram%0A%20%20participant%20%E7%94%A8%E6%88%B7%0A%20%20participant%20Login.vue%0A%20%20participant%20%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6%0A%20%20participant%20%E8%AE%A4%E8%AF%81%20API%0A%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%BE%93%E5%85%A5%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%AF%B7%E6%B1%82%E9%82%AE%E4%BB%B6%E9%AA%8C%E8%AF%81%E7%A0%81%0A%20%20Login.vue-%3E%3E%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6%3A%20%E6%98%BE%E7%A4%BA%E9%AA%8C%E8%AF%81%E5%AF%B9%E8%AF%9D%E6%A1%86%0A%20%20%E7%94%A8%E6%88%B7-%3E%3E%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6%3A%20%E5%AE%8C%E6%88%90%E9%AA%8C%E8%AF%81%E7%A0%81%E9%AA%8C%E8%AF%81%0A%20%20%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6-%3E%3E%E8%AE%A4%E8%AF%81%20API%3A%20POST%20%2FsendEmailCode%0A%20%20%E8%AE%A4%E8%AF%81%20API--%3E%3E%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6%3A%20%E9%80%9A%E7%9F%A5%E9%AA%8C%E8%AF%81%E7%A0%81%E5%B7%B2%E5%8F%91%E9%80%81%0A%20%20%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%BB%84%E4%BB%B6--%3E%3ELogin.vue%3A%20%E5%85%B3%E9%97%AD%E5%AF%B9%E8%AF%9D%E6%A1%86%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%BE%93%E5%85%A5%E9%82%AE%E4%BB%B6%E9%AA%8C%E8%AF%81%E7%A0%81%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E6%8F%90%E4%BA%A4%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF%0A%20%20Login.vue-%3E%3ELogin.vue%3A%20%E9%AA%8C%E8%AF%81%E4%B8%A4%E6%AC%A1%E8%BE%93%E5%85%A5%E7%9A%84%E5%AF%86%E7%A0%81%E6%98%AF%E5%90%A6%E5%8C%B9%E9%85%8D%0A%20%20Login.vue-%3E%3E%E8%AE%A4%E8%AF%81%20API%3A%20POST%20%2Fregister%0A%20%20%E8%AE%A4%E8%AF%81%20API--%3E%3ELogin.vue%3A%20%E8%BF%94%E5%9B%9E%E6%B3%A8%E5%86%8C%E7%BB%93%E6%9E%9C%0A%20%20Login.vue-%3E%3ELogin.vue%3A%20%E5%88%87%E6%8D%A2%E5%88%B0%E7%99%BB%E5%BD%95%E6%A8%A1%E5%BC%8F%0A%20%20Login.vue-%3E%3E%E7%94%A8%E6%88%B7%3A%20%E6%98%BE%E7%A4%BA%E6%88%90%E5%8A%9F%E6%B6%88%E6%81%AF%0A"})]),fallback:A(()=>E[3]||(E[3]=[i(" Loading... ")])),_:1})),E[14]||(E[14]=a("h3",{id:"密码重置流程",tabindex:"-1"},[i("密码重置流程 "),a("a",{class:"header-anchor",href:"#密码重置流程","aria-label":'Permalink to "密码重置流程"'},"​")],-1)),E[15]||(E[15]=a("p",null,"密码找回流程与注册流程类似，需要电子邮件验证。",-1)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-126",class:"mermaid",graph:"sequenceDiagram%0A%20%20participant%20%E7%94%A8%E6%88%B7%0A%20%20participant%20Login.vue%0A%20%20participant%20%E8%AE%A4%E8%AF%81%20API%0A%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%BE%93%E5%85%A5%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E5%9C%B0%E5%9D%80%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%AF%B7%E6%B1%82%E9%AA%8C%E8%AF%81%E7%A0%81%0A%20%20Login.vue-%3E%3E%E8%AE%A4%E8%AF%81%20API%3A%20POST%20%2FsendEmailCode%20(type%3D1)%0A%20%20%E8%AE%A4%E8%AF%81%20API--%3E%3ELogin.vue%3A%20%E7%A1%AE%E8%AE%A4%E9%AA%8C%E8%AF%81%E7%A0%81%E5%B7%B2%E5%8F%91%E9%80%81%0A%20%20%E7%94%A8%E6%88%B7-%3E%3ELogin.vue%3A%20%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81%E7%A0%81%E5%92%8C%E6%96%B0%E5%AF%86%E7%A0%81%0A%20%20Login.vue-%3E%3ELogin.vue%3A%20%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81%E8%A6%81%E6%B1%82%0A%20%20Login.vue-%3E%3E%E8%AE%A4%E8%AF%81%20API%3A%20POST%20%2FresetPwd%0A%20%20%E8%AE%A4%E8%AF%81%20API--%3E%3ELogin.vue%3A%20%E7%A1%AE%E8%AE%A4%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE%E6%88%90%E5%8A%9F%0A%20%20Login.vue-%3E%3ELogin.vue%3A%20%E5%88%87%E6%8D%A2%E5%88%B0%E7%99%BB%E5%BD%95%E6%A8%A1%E5%BC%8F%0A%20%20Login.vue-%3E%3E%E7%94%A8%E6%88%B7%3A%20%E6%98%BE%E7%A4%BA%E6%88%90%E5%8A%9F%E6%B6%88%E6%81%AF%0A"})]),fallback:A(()=>E[4]||(E[4]=[i(" Loading... ")])),_:1})),E[16]||(E[16]=r('<h2 id="安全实现" tabindex="-1">安全实现 <a class="header-anchor" href="#安全实现" aria-label="Permalink to &quot;安全实现&quot;">​</a></h2><h3 id="密码安全" tabindex="-1">密码安全 <a class="header-anchor" href="#密码安全" aria-label="Permalink to &quot;密码安全&quot;">​</a></h3><p>系统实现了客户端密码哈希和安全的密码验证：</p><ul><li><strong>哈希处理</strong>：在传输前使用 MD5 对密码进行哈希处理</li><li><strong>验证</strong>：要求密码长度为 8 - 18 个字符，包含数字、字母和特殊字符</li><li><strong>确认</strong>：在注册和重置密码时要求确认密码</li></ul><h3 id="验证码保护" tabindex="-1">验证码保护 <a class="header-anchor" href="#验证码保护" aria-label="Permalink to &quot;验证码保护&quot;">​</a></h3><p>可视化验证码验证可防止自动化攻击：</p>',6)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-159",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%22%5D%0AB%5B%22%E9%AA%8C%E8%AF%81%E7%A0%81%E5%9B%BE%E7%89%87%22%5D%0AC%5B%22%2Fapi%2FcheckCode%22%5D%0AD%5B%22%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%20URL%22%5D%0AE%5B%22%E5%85%A8%E6%96%B0%E9%AA%8C%E8%AF%81%E7%A0%81%22%5D%0AF%5B%22%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%22%5D%0AG%5B%22%E9%AA%8C%E8%AF%81%E7%A0%81%E9%AA%8C%E8%AF%81%22%5D%0AH%5B%22API%20%E8%AF%B7%E6%B1%82%22%5D%0AI%5B%22%E9%94%99%E8%AF%AF%E5%9B%9E%E8%B0%83%22%5D%0AJ%5B%22%E5%88%B7%E6%96%B0%E9%AA%8C%E8%AF%81%E7%A0%81%22%5D%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20D%20--%3E%20E%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20G%20--%3E%20H%0A%20%20%20%20I%20--%3E%20J%0A%20%20%20%20J%20--%3E%20C%0A"})]),fallback:A(()=>E[5]||(E[5]=[i(" Loading... ")])),_:1})),E[17]||(E[17]=r('<h3 id="电子邮件验证" tabindex="-1">电子邮件验证 <a class="header-anchor" href="#电子邮件验证" aria-label="Permalink to &quot;电子邮件验证&quot;">​</a></h3><p>注册和密码重置操作需要进行电子邮件验证：</p><ul><li><strong>验证对话框</strong>：在发送电子邮件前，通过模态对话框完成验证码验证</li><li><strong>代码验证</strong>：服务器端对电子邮件验证码进行验证</li><li><strong>反垃圾邮件</strong>：发送电子邮件请求时进行验证码保护</li></ul><h2 id="第三方认证" tabindex="-1">第三方认证 <a class="header-anchor" href="#第三方认证" aria-label="Permalink to &quot;第三方认证&quot;">​</a></h2><h3 id="qq-oauth-集成" tabindex="-1">QQ OAuth 集成 <a class="header-anchor" href="#qq-oauth-集成" aria-label="Permalink to &quot;QQ OAuth 集成&quot;">​</a></h3><p>系统支持通过 OAuth 重定向实现 QQ 登录：</p>',6)),(e(),n(B,null,{default:A(()=>[s(t,{id:"mermaid-192",class:"mermaid",graph:"flowchart%20TD%0A%0AA%5B%22QQ%20%E7%99%BB%E5%BD%95%E6%8C%89%E9%92%AE%22%5D%0AB%5B%22qqLogin()%22%5D%0AC%5B%22API%20%E8%AF%B7%E6%B1%82%20%2Fqqlogin%22%5D%0AD%5B%22OAuth%20URL%20%E5%93%8D%E5%BA%94%22%5D%0AE%5B%22%E6%B8%85%E9%99%A4%20userInfo%20Cookie%22%5D%0AF%5B%22%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%20QQ%20OAuth%22%5D%0AG%5B%22%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83%22%5D%0AH%5B%22%E5%9B%9E%E8%B0%83%E5%A4%84%E7%90%86%22%5D%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20D%20--%3E%20E%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20G%20--%3E%20H%0A"})]),fallback:A(()=>E[6]||(E[6]=[i(" Loading... ")])),_:1})),E[18]||(E[18]=r(`<h2 id="表单验证系统" tabindex="-1">表单验证系统 <a class="header-anchor" href="#表单验证系统" aria-label="Permalink to &quot;表单验证系统&quot;">​</a></h2><p>认证表单实现了全面的验证规则：</p><h3 id="验证规则" tabindex="-1">验证规则 <a class="header-anchor" href="#验证规则" aria-label="Permalink to &quot;验证规则&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>验证内容</th><th>实现方式</th></tr></thead><tbody><tr><td>电子邮件</td><td>必填，格式验证</td><td><code>proxy.Verify.email</code></td></tr><tr><td>密码</td><td>必填，复杂度规则</td><td><code>proxy.Verify.password</code></td></tr><tr><td>确认密码</td><td>必填，匹配验证</td><td><code>checkRePassword</code></td></tr><tr><td>邮件验证码</td><td>必填</td><td>基本必填验证</td></tr><tr><td>昵称</td><td>必填</td><td>基本必填验证</td></tr><tr><td>验证码</td><td>必填</td><td>基本必填验证</td></tr></tbody></table><h3 id="自定义验证器" tabindex="-1">自定义验证器 <a class="header-anchor" href="#自定义验证器" aria-label="Permalink to &quot;自定义验证器&quot;">​</a></h3><p>系统实现了自定义验证函数：</p><ul><li><strong>密码确认</strong>：确保确认密码与原始密码匹配</li><li><strong>电子邮件格式</strong>：利用共享的验证工具检查电子邮件格式</li><li><strong>密码复杂度</strong>：强制执行字符类型和长度要求</li></ul><h2 id="会话管理" tabindex="-1">会话管理 <a class="header-anchor" href="#会话管理" aria-label="Permalink to &quot;会话管理&quot;">​</a></h2><h3 id="基于-cookie-的认证" tabindex="-1">基于 Cookie 的认证 <a class="header-anchor" href="#基于-cookie-的认证" aria-label="Permalink to &quot;基于 Cookie 的认证&quot;">​</a></h3><p>系统使用 cookie 实现会话持久化和“记住我”功能：</p><ul><li><strong>用户会话</strong>：<code>userInfo</code> cookie 存储认证状态</li><li><strong>登录持久化</strong>：<code>loginInfo</code> cookie 启用“记住我”功能（有效期 7 天）</li><li><strong>表单预填充</strong>：保存的登录凭证自动填充表单</li></ul><h3 id="路由保护" tabindex="-1">路由保护 <a class="header-anchor" href="#路由保护" aria-label="Permalink to &quot;路由保护&quot;">​</a></h3><p>认证状态与路由系统集成，实现访问控制：</p><ul><li><strong>重定向处理</strong>：登录后保留预期的目标页面</li><li><strong>查询参数</strong>：使用 <code>redirectUrl</code> 进行登录后导航</li></ul><h2 id="api-集成" tabindex="-1">API 集成 <a class="header-anchor" href="#api-集成" aria-label="Permalink to &quot;API 集成&quot;">​</a></h2><p>认证系统通过定义的端点与后端服务进行通信：</p><h3 id="端点配置" tabindex="-1">端点配置 <a class="header-anchor" href="#端点配置" aria-label="Permalink to &quot;端点配置&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> api</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  checkCodeUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/checkCode&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sendEmailCodeUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/sendEmailCode&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  register: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/register&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  login: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/login&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resetPwd: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/resetPwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  qqlogin: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/qqlogin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="错误处理" tabindex="-1">错误处理 <a class="header-anchor" href="#错误处理" aria-label="Permalink to &quot;错误处理&quot;">​</a></h3><p>系统实现了强大的错误处理机制，自动刷新验证码，并通过集中的 HTTP 通信层向用户反馈信息。</p>`,20))])}const b=o(h,[["render",p]]);export{c as __pageData,b as default};
